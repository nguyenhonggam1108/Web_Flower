{% extends "base.html" %}
{% load static %}
{% load humanize %}
{% block title %}Gi·ªè h√†ng{% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'cart.css' %}">

<div class="cart-container">
  <h2>üõí Gi·ªè h√†ng c·ªßa b·∫°n</h2>

  {% if cart %}
  <table class="cart-table">
    <tr>
      <th>T√™n s·∫£n ph·∫©m</th>
      <th>Gi√°</th>
      <th>S·ªë l∆∞·ª£ng</th>
      <th>T·ªïng</th>
      <th>H√†nh ƒë·ªông</th>
    </tr>
    {% for id, item in cart.items %}
    <tr>
      <td>{{ item.name }}</td>
      <td>{{ item.price|floatformat:0|intcomma }}VND</td>
      <td>
        <form method="post" action="{% url 'cart:update_cart' id %}">
          {% csrf_token %}
          <input type="number" name="quantity" value="{{ item.quantity }}" min="1">
          <button type="submit" class="btn-update">C·∫≠p nh·∫≠t</button>
        </form>
      </td>
      <td> {{ item.price|floatformat:0|intcomma }} VND</td>
      <td>
        <form method="post" action="{% url 'cart:remove_from_cart' id %}">
          {% csrf_token %}
          <button type="submit" class="btn-remove">X√≥a</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </table>

  <h3 class="total">T·ªïng c·ªông: {{ total|floatformat:0|intcomma }}VND</h3>
  <a href="#" class="checkout-btn">Thanh to√°n</a>

  {% else %}
  <p>Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng.</p>
  {% endif %}
</div>

{% endblock %}
